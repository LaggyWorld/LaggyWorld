<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LaggyWorld</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="popup.css" />
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>

<div class="popup-overlay" id="rulesPopup">
  <div class="popup-box">
    <h2>
      <span class="big-emoji">👋</span>
      Welcome to <span style="color: #00ff00;">LaggyWorld</span>
      <span class="big-emoji">👋</span>
    </h2>
    <p>
      Pure chaos, zero pay to win, and laggy survival madness. Get ready to build, battle, and glitch your way to greatness.
    </p>
    <button onclick="closePopup()">🚀 Let’s Go!</button>
    <br />
    <a href="terms-of-service.html" style="display: inline-block; margin-top: 5px;">Terms of Service</a>
  </div>
</div>

<header>
  <div class="player-count" id="playerCount">Loading...</div>
  <h1><img src="sammerrrr.png" alt="LaggyWorld Image" class="floating-logo" /></h1>
  <h1>🟩 LaggyWorld 🟫</h1>
  <p>Welcome to the most chaotic Minecraft experience.</p>
</header>

<main>
  <section class="card">
    <h2><span class="big-emoji">🌍</span> About the Server</h2>
    <p>LaggyWorld is an epic, unpredictable Minecraft survival server where chaos reigns! <span class="big-emoji">🌍</span> No(P2W) nonsense just pure survival fun. Build your dream world, survive the wild, hunt for resources, and embrace the madness of lag as you explore, battle, and thrive in this ever changing landscape!</p>
  </section>

  <section class="card" style="font-size: 3em; font-weight: bold; text-align: center; padding: 20px;">
    <h2><span class="big-emoji">📜</span> IP Address</h2>
    <p><strong><code style="font-size: 2.5em;">97.157.190.152</code></strong></p>
  </section>

  <section class="card">
    <h2><span class="big-emoji">💖</span> Support LaggyWorld</h2>
    <a href="https://www.paypal.com/donate?hosted_button_id=@joedirtcash" target="_blank" class="donate-button">Donate via PayPal</a>
  </section>

  <section class="card">
    <h2><span class="big-emoji">📞</span> Discord</h2>
    <p>Have questions or need help? Reach us at <a style="color: aqua;" href="https://discord.gg/2f5PEQA8SV">Discord@laggyworld.net</a></p>
  </section>
</main>

<footer>
  <p>© 2025 LaggyWorld. Crafted with <span class="big-emoji">❤️</span> and blocks.</p>
  <a href="terms-of-service.html">Terms of Service</a> |
  <a href="privacy-policy.html">Privacy</a>
</footer>

<script>
  function closePopup() {
    document.getElementById("rulesPopup").style.display = "none";
  }

  window.addEventListener("load", () => {
    if (!sessionStorage.getItem("rulesShown")) {
      document.getElementById("rulesPopup").style.display = "flex";
      sessionStorage.setItem("rulesShown", "true");
    } else {
      document.getElementById("rulesPopup").style.display = "none";
    }
  });
</script>

<script>
  async function getPlayerCount() {
    try {
      const response = await fetch('https://api.mcsrvstat.us/2/97.157.190.152');
      const data = await response.json();
      const countElement = document.getElementById('playerCount');

      if (data.online) {
        const players = data.players.online;
        const max = data.players.max;
        countElement.textContent = `👥 ${players} / ${max}`;
      } else {
        countElement.textContent = "🔴 Offline";
      }
    } catch (error) {
      document.getElementById('playerCount').textContent = "⚠️ Error";
    }
  }

  getPlayerCount();
  setInterval(getPlayerCount, 30000);
</script>

</body>
</html>
